# Battle of Senses - Android App

Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞—É—à–Ω–∏–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ `AudioDeviceCallback` API.

## üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **100% –Ω–∞–¥–µ–∂–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—É—à–Ω–∏–∫–æ–≤** —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π AudioDeviceCallback API
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –Ω–∞—É—à–Ω–∏–∫–æ–≤**:
  - –ü—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ (3.5mm jack)
  - –ü—Ä–æ–≤–æ–¥–Ω—ã–µ –≥–∞—Ä–Ω–∏—Ç—É—Ä—ã
  - Bluetooth –Ω–∞—É—à–Ω–∏–∫–∏ (A2DP)
  - Bluetooth –≥–∞—Ä–Ω–∏—Ç—É—Ä—ã (SCO)
  - USB –Ω–∞—É—à–Ω–∏–∫–∏
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–º–Ω—ã–º–∏ –ª–∞–º–ø–æ—á–∫–∞–º–∏** Philips Hue –∏ Tuya
- ‚úÖ **JavaScript Bridge** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å Android
- ‚úÖ **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º** (Immersive Mode)
- ‚úÖ **–í–∏–±—Ä–∞—Ü–∏—è** –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏/–æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞—É—à–Ω–∏–∫–æ–≤
- ‚úÖ **–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è**

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Android Studio** Arctic Fox –∏–ª–∏ –Ω–æ–≤–µ–µ
- **Android SDK** —É—Ä–æ–≤–µ–Ω—å 24+ (Android 7.0+)
- **JDK** 8 –∏–ª–∏ –Ω–æ–≤–µ–µ
- **Gradle** 8.2.0

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/stainephone-gif/battle-of-senses.git
cd battle-of-senses/android-app
```

### 2. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Android Studio

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **Android Studio**
2. –í—ã–±–µ—Ä–∏—Ç–µ **File ‚Üí Open**
3. –ù–∞–π–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `android-app`
4. –ù–∞–∂–º–∏—Ç–µ **OK**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Gradle

### 3. –°–±–æ—Ä–∫–∞ APK

#### –ß–µ—Ä–µ–∑ Android Studio:

1. –í—ã–±–µ—Ä–∏—Ç–µ **Build ‚Üí Build Bundle(s) / APK(s) ‚Üí Build APK(s)**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
3. APK –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `app/build/outputs/apk/debug/app-debug.apk`

#### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:

```bash
# Debug –≤–µ—Ä—Å–∏—è
./gradlew assembleDebug

# Release –≤–µ—Ä—Å–∏—è (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–ø–∏—Å–∏)
./gradlew assembleRelease
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

#### –ß–µ—Ä–µ–∑ Android Studio:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ USB —Å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–æ–π –ø–æ USB
2. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
3. –ù–∞–∂–º–∏—Ç–µ **Run** (–∑–µ–ª–µ–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞) –∏–ª–∏ `Shift+F10`

#### –ß–µ—Ä–µ–∑ ADB:

```bash
adb install app/build/outputs/apk/debug/app-debug.apk
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
android-app/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ src/main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/battleofsenses/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainActivity.kt          # –ì–ª–∞–≤–Ω–∞—è Activity —Å AudioDeviceCallback
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WebAppInterface.kt       # JavaScript –º–æ—Å—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ res/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ activity_main.xml    # WebView layout
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ values/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ strings.xml
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ colors.xml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/                      # –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ headphones.html          # –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sluh.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sound-exhibition.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ zrenie_mob.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quiet.html
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pic/                     # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AndroidManifest.xml
‚îÇ   ‚îú‚îÄ‚îÄ build.gradle                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ proguard-rules.pro
‚îú‚îÄ‚îÄ build.gradle                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ settings.gradle
‚îú‚îÄ‚îÄ gradle.properties
‚îî‚îÄ‚îÄ README.md                            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîå JavaScript Bridge API

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å Android —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `window.Android`:

### –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –≤ –Ω–∞—Ç–∏–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
if (typeof Android !== 'undefined') {
  console.log('–ó–∞–ø—É—â–µ–Ω–æ –≤ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏');
}

// –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏—é Android
const version = Android.getAndroidVersion(); // "13"

// –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
const model = Android.getDeviceModel(); // "Samsung Galaxy S21"
```

### Toast —Å–æ–æ–±—â–µ–Ω–∏—è

```javascript
// –ö–æ—Ä–æ—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
Android.showToast("–ü—Ä–∏–≤–µ—Ç!");

// –î–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
Android.showLongToast("–≠—Ç–æ –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ");
```

### –í–∏–±—Ä–∞—Ü–∏—è

```javascript
// –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ 500 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
Android.vibrate(500);

// –í–∏–±—Ä–∞—Ü–∏—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º (–≤–∫–ª, –≤—ã–∫–ª, –≤–∫–ª, –≤—ã–∫–ª...)
Android.vibratePattern("100,200,100,500");
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
// –û–±—ã—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (LogCat —É—Ä–æ–≤–µ–Ω—å DEBUG)
Android.log("–û—Ç–ª–∞–¥–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ");

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (LogCat —É—Ä–æ–≤–µ–Ω—å ERROR)
Android.logError("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞!");
```

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (SharedPreferences)

```javascript
// –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
Android.saveData("username", "–ò–≤–∞–Ω");

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
const username = Android.loadData("username"); // "–ò–≤–∞–Ω"

// –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
Android.removeData("username");

// –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
Android.clearAllData();
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```javascript
// –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
Android.exitApp();
```

## üéß –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –Ω–∞—É—à–Ω–∏–∫–æ–≤

–í `headphones.html` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—É—à–Ω–∏–∫–æ–≤:

### –ö–æ–ª–±—ç–∫–∏ –¥–ª—è –Ω–∞—É—à–Ω–∏–∫–æ–≤

```javascript
// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –Ω–∞—É—à–Ω–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
window.onNativeHeadphonesConnected = function() {
  console.log('–ù–∞—É—à–Ω–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã!');
  // –í–∞—à –∫–æ–¥...
};

// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –Ω–∞—É—à–Ω–∏–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã
window.onNativeHeadphonesDisconnected = function() {
  console.log('–ù–∞—É—à–Ω–∏–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã!');
  // –í–∞—à –∫–æ–¥...
};
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –Ω–∞—É—à–Ω–∏–∫–æ–≤

–í `MainActivity.kt`:

```kotlin
AudioDeviceInfo.TYPE_WIRED_HEADPHONES    // –ü—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏
AudioDeviceInfo.TYPE_WIRED_HEADSET       // –ü—Ä–æ–≤–æ–¥–Ω–∞—è –≥–∞—Ä–Ω–∏—Ç—É—Ä–∞
AudioDeviceInfo.TYPE_BLUETOOTH_A2DP      // Bluetooth –Ω–∞—É—à–Ω–∏–∫–∏
AudioDeviceInfo.TYPE_BLUETOOTH_SCO       // Bluetooth –≥–∞—Ä–Ω–∏—Ç—É—Ä–∞
AudioDeviceInfo.TYPE_USB_HEADSET         // USB –Ω–∞—É—à–Ω–∏–∫–∏
```

## üîê –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ `AndroidManifest.xml`:

- `INTERNET` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –æ—Å–≤–µ—â–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ API
- `ACCESS_NETWORK_STATE` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ç–∏
- `VIBRATE` - –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö
- `BLUETOOTH` –∏ `BLUETOOTH_ADMIN` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Bluetooth –Ω–∞—É—à–Ω–∏–∫–æ–≤
- `BLUETOOTH_CONNECT` (Android 12+) - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- `WAKE_LOCK` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞—Å—ã–ø–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞

## üì± –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **minSdk**: 24 (Android 7.0 Nougat)
- **targetSdk**: 34 (Android 14)
- **compileSdk**: 34

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ Android Studio

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Logcat** (–≤–Ω–∏–∑—É –æ–∫–Ω–∞)
2. –§–∏–ª—å—Ç—Ä: `com.battleofsenses`
3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—Ç WebAppInterface:

```
D/WebAppInterface: JS: Battle of Senses WebView –∑–∞–≥—Ä—É–∂–µ–Ω
D/WebAppInterface: Data saved: lights_config = {...}
E/WebAppInterface: JS Error: Light control error
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ ADB

```bash
adb logcat -s WebAppInterface:D MainActivity:D
```

### Chrome DevTools –¥–ª—è WebView

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `chrome://inspect`
4. –ù–∞–π–¥–∏—Ç–µ `com.battleofsenses` –≤ —Å–ø–∏—Å–∫–µ
5. –ù–∞–∂–º–∏—Ç–µ **inspect**

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è HTML/CSS/JS —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ assets
cd battle-of-senses
cp -r *.html pic android-app/app/src/main/assets/

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd android-app
./gradlew assembleDebug
```

**–í–∞–∂–Ω–æ**: –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å APK –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–∞!

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: WebView –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ `app/src/main/assets/`
- –í `MainActivity.kt` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å: `file:///android_asset/index.html`
- –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞: JavaScript Bridge –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `settings.javaScriptEnabled = true` –≤ MainActivity
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–±–∞–≤–ª–µ–Ω: `addJavascriptInterface(WebAppInterface(...), "Android")`
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Logcat

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞—É—à–Ω–∏–∫–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ AndroidManifest.xml
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `audioCallback` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `onCreate()`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –ù–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ: –Ω–∞—É—à–Ω–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã"

### –ü—Ä–æ–±–ª–µ–º–∞: Gradle sync failed

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Gradle
./gradlew clean

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
./gradlew build --refresh-dependencies
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ "–ë–∏—Ç–≤–∞ —á—É–≤—Å—Ç–≤" - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è —á–µ—Ä–µ–∑ –∑–≤—É–∫ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ GitHub.
